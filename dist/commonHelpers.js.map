{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixaday-api.js"],"sourcesContent":["// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nconst form = document.querySelector('.form');\nconst listImages = document.querySelector('.list');\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const loader = document.querySelector('.loader-container');\n  loader.style.display = 'flex';\n  setTimeout(() => (loader.style.display = 'none'), 3000);\n  setTimeout(() => {\n    return fetch(\n      `https://pixabay.com/api/?key=42464755-f7d199d1a91f6070a7f813e04&image_type=photo&orientation=horizontal&q=${event.target.elements.search.value}&safesearch=true`\n    )\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n      .then(images => {\n        listImages.innerHTML = '';\n        form.search.value = '';\n        if (images.hits.length === 0) {\n          return iziToast.error({\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            position: 'topRight',\n          });\n        }\n        const markup = images.hits\n          .map(image => {\n            return `<li class=\"list-item\">\n          <a class=\"list-link\" href=\"${image.largeImageURL}\"><img class=\"list-img\" src=\"${image.webformatURL}\" data-original=\"${image.largeImageURL}\" download></a>\n          <ul class=\"list-statistic\">\n            <li>\n              <span class=\"list-item-title\">likes</span>\n              <span class=\"list-item-number\">${image.likes}</span>\n            </li>\n\n            <li>\n              <span class=\"list-item-title\">views</span>\n              <span class=\"list-item-number\">${image.views}</span>\n            </li>\n            <li>\n              <span class=\"list-item-title\">comments</span>\n              <span class=\"list-item-number\">${image.comments}</span>\n            </li>\n            <li>\n              <span class=\"list-item-title\">downloads</span>\n              <span class=\"list-item-number\">${image.downloads}</span>\n            </li>\n          </ul>\n        </li>`;\n          })\n          .join('');\n        listImages.insertAdjacentHTML('beforeend', markup);\n        const originalImageSrc = event.target.getAttribute('data-original');\n\n        const gallery = new SimpleLightbox('.list-link');\n        gallery\n          .refresh()\n          .create(`<img src=\"${originalImageSrc}\" width=\"100%\" height=\"100%\"/>`)\n          .show();\n      });\n  }, 2000);\n});\n"],"names":["form","listImages","event","loader","response","images","iziToast","markup","image","originalImageSrc","SimpleLightbox"],"mappings":"6vBAQA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAa,SAAS,cAAc,OAAO,EACjDD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAS,SAAS,cAAc,mBAAmB,EACzDA,EAAO,MAAM,QAAU,OACvB,WAAW,IAAOA,EAAO,MAAM,QAAU,OAAS,GAAI,EACtD,WAAW,IACF,MACL,6GAA6GD,EAAM,OAAO,SAAS,OAAO,KAAK,kBAChJ,EACE,KAAKE,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACA,KAAKC,GAAU,CAGd,GAFAJ,EAAW,UAAY,GACvBD,EAAK,OAAO,MAAQ,GAChBK,EAAO,KAAK,SAAW,EACzB,OAAOC,EAAS,MAAM,CACpB,QACE,2EACF,SAAU,UACtB,CAAW,EAEH,MAAMC,EAASF,EAAO,KACnB,IAAIG,GACI;AAAA,uCACoBA,EAAM,aAAa,gCAAgCA,EAAM,YAAY,oBAAoBA,EAAM,aAAa;AAAA;AAAA;AAAA;AAAA,+CAIpGA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA,+CAKXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,+CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,+CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAInD,EACA,KAAK,EAAE,EACVP,EAAW,mBAAmB,YAAaM,CAAM,EACjD,MAAME,EAAmBP,EAAM,OAAO,aAAa,eAAe,EAElD,IAAIQ,EAAe,YAAY,EAE5C,QAAS,EACT,OAAO,aAAaD,CAAgB,gCAAgC,EACpE,MACX,CAAO,EACF,GAAI,CACT,CAAC"}